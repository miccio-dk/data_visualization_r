\chapter{Analysis}
The following sections aim to elaborate on the Problem formulation and create a more solid base to use as a guideline and template during the actual development.
This analysis does not aspire to be exhaustive, but rather satisfactory in the level of detail required to establish the project.


\section{Milestone plan}
Here is the project milestone plan as formulated during the initial phases of the project.
This version of the plan lists a series of achievements deemed necessary to accomplish the major functionalities.
It is arranged in a progressive way, with a time axis roughly flowing vertically.
Each task depends from its sub-tasks and --- more indirectly --- on the previous ones within its hierarchal level.

% Please refer to the \nameref{ch:appx} for the final version of the milestone plan based on the actual progress.

\renewcommand{\labelitemi}{\textbullet}
\renewcommand{\labelitemii}{\textbullet}
\renewcommand{\labelitemiii}{\textbullet}
\renewcommand{\labelitemiv}{\textbullet}
\begin{itemize}
	\item Extract requirements and use cases
	\item Evaluate and choose remote hosting service
	\item Familiarize with necessary tools and languages
	\begin{itemize}
		\item R and RStudio
		\item Java and Android Studio
		\begin{itemize}
			\item Acquire device location
			\item Read and append content to the remote platform
		\end{itemize}
	\end{itemize}
	\item Software development
	\begin{itemize}
		\item Configure remote service authorizations and keys
		\item Implement Android application
		\item Implement R script for visualizing data
	\end{itemize}
	\item Integration and validation tests
	\item Compiling necessary documentation
\end{itemize}


\section{Requirements}
The \emph{software requirements specification} is the formal description of the system to be developed, thoroughly pointing out what the product is --- and is not --- expected to do.
It also helps assessing the extent of the endeavor in terms of workload, costs, and other resources.
The requirements are commonly laid out in agreement with the client, and provide the basis upon which the product or project is evaluated.
Following the \emph{Unified Software Development Process} --- upon which this analysis is loosely based --- the requirements can be classified in \emph{functional} and \emph{non-functional}.

As far as this project is concerned, the supervisors have not set any particular requirements apart from those implied in the project name and problem formulation.
The list of requirements is therefore mostly based on former knowledge, common sense and best practices within the industry.


\subsection{Functional requirements}\label{subsec:req_func}
This section defines specific behaviors or functionalities, and is the basis for the tests.
Requirements introduced by the modal verb \emph{shall} indicate mandatory conditions, whilst those introduced by the modal verb \emph{may} indicate optional features.
% data have to be uploaded on Google Sheets
% visualization has to be done in R

\begin{table}[H]
\centerfloat
\begin{tabular}{@{} m{4em} >{\small}m{34em} @{}}
	\toprule
	ID			& \normalfont{Description} \\
	\midrule
	SRS.F.1		& The mobile apps shall submit its GPS and identification data at a given interval \\
	SRS.F.2		& The GPS data shall comprise location, and altitude and speed when available \\
	SRS.F.3		& The location shall be expressed in geographical coordinates (latitude and longitude) \\
	SRS.F.4		& The identification data shall comprise of a device ID and timestamp \\
	SRS.F.5		& The device IDs shall be unique \\
	SRS.F.6		& The data shall be submitted and stored in a \emph{Google Sheets} document \\
	SRS.F.7		& The GPS data acquisition shall be explicitly enabled by the user \\
	\midrule
	SRS.F.8		& The front-end application shall update with new data at a given interval \\
	SRS.F.9		& The front-end application shall allow the user to select a date range and a set of devices \\
	SRS.F.10	& The front-end application shall visualize the path and current position of the selected devices on a map \\
	SRS.F.11	& The front-end application shall visualize the altitude and speed of a single device on a plot \\
	SRS.F.12	& The front-end application shall allow the user to export the collected data \\
	\bottomrule
\end{tabular}
\caption{{\footnotesize Software requirements specification: functional requirements}}
\end{table}


\subsection{Non functional requirements}\label{subsec:req_nf}
This section specifies desired characteristics and qualities of the system.

\begin{table}[H]
\centerfloat
\begin{tabular}{@{} m{4em} >{\small}l @{}}
	\toprule
	ID			& \normalfont{Description} \\
	\midrule
	SRS.NF.1	& The location provided by the mobile apps shall be the most precise available \\
	SRS.NF.2	& The Android app code shall be written in Java \\
	SRS.NF.3	& The Android app code shall employ \emph{Android Studio} build system \\
	SRS.NF.4	& The iOS app code shall be written in Swift \\
	SRS.NF.5	& The front-end application shall be written in R \\
	SRS.NF.6	& The front-end application should limit its data requests to the bare necessary \\
	SRS.NF.7	& All source code shall follow a consistent format style \\
	SRS.NF.8	& All source code shall be properly documented \\
	SRS.NF.9	& All source code should be trivially buildable and executable on other platforms \\
	SRS.NF.10	& The released documentation shall be written in English \\
	\bottomrule
\end{tabular}
\caption{{\footnotesize Software requirements specification: non-functional requirements}}
\end{table}


\section{Tools}
This section will cover various software tools that have been employed during the course of the project.
These include development tool and software components or libraries used by the implemented code.


\subsection{Android Studio}
Android Studio is the official IDE (integrated development environment) for native Android development.
It is distributed freely by Google for Windows, Mac OS X and Linux platforms, and it is based on emph{JetBrains' IntelliJ IDEA}, a proprietary IDE for Java.
It replaced emph{Eclipse Android Development Tools} as Google's primary IDE for Android application development.

The IDE provides a series of Android-specific tools and features.
The most notable ones are:

\begin{itemize}
	\item Code editor with intelligent completion, linter, and refactoring system
	\item Integrated debugger and emulator based on virtual machines
	\item Graphical layout editor and wizards for code generation of UIs and other common software components
\end{itemize}

\fig{7cm}{ss_androidstudio.png}{Android Studio: example view with text editor, project navigator, and build console}{ss_androidstudio}


\subsection{RStudio}
RStudio is a free and open-source IDE for R, a programming language for statistical computing.
Several editions of the software exist: a emph{Desktop} one, available on Windows, OS X, and Linux, and a emph{Server} and emph{ServerPro} one, with allows access through web browser from several terminals.

The software comprises a text editor with code completion and syntax highlighting, an interactive command interpreter with built-in debug, command history, and data viewer, as well as a package manager and a documentation browser.

\fig{7cm}{ss_rstudio.png}{RStudio: example view with text editor, console, list of currently loaded data, and plots}{ss_rstudio}


\subsection{R packages}
The capabilities of R can be extended through a system of packages.
Such packages may provide alternative graphics tools, additional statistical and data handling functions, or APIs and bindings for other services and software.
R packages can be developed in R, C, C++, and Fortran, and are normally distributed through the \emph{CRAN} (Comprehensive R Archive Network).

Packages that are not part of the core implementation have to be downloaded and loaded into the environment prior to their use.
This can be done through the R console with the \code{install.packages()} and \code{library()} commands, or in RStudio's own package manager.
Unofficial resources can also be obtained through GitHub or other hosting platforms.

Here follows a list and description of the most important R packages that will be employed for the fulfillment of the project:

\begin{description}
	\item[\code{shiny}] A framework for building live web applications in R. It comprises control widgets and graphic outputs, and uses a reactive model for determining which parts of the pages needs updating.
	\item[\code{leaflet}] Integration with \emph{leaflet}, an open-source javascript library for interactive maps. Maps can be enhanced with custom graphic elements such as polygons, lines, and markers.
	\item[\code{plotly}] A powerful, open-source plotting engine, with support for numerous types of charts, and fully interactive and customizable
	\item[\code{googlesheets}] A wrapper for the \emph{Google Sheets} APIs. It can be used to perform common file managing operations, as well as for accessing and editing data in a worksheet.
	\item[\code{dplyr}] This package provides a set of useful and functions for manipulating data, such as \code{select}, \code{filter}, and \code{arrange}, with a particular focus on performances. It also provides the pipe operator \code{\%>\%}, which can be used to concatenate operations on datasets of various nature.
\end{description}


\subsection{Other tools}
In order to be able to contribute from any given location (work PC, personal laptop\dots), the project source code has been hosted on a web-based \code{git} repository hosting service called \emph{GitHub}.

\code{git} is a version control system for collaborative development of projects.
It tracks changes in local files and allows them to be synchronized across multiple machines and remote hosts.
Within the purpose of this project, \code{git} has been used to provide a means of accessing and safely storing the code base.
Ordinary maintenance of the repository is performed from command-line, with the aid of graphical \code{diff}-tool \emph{Meld} for code revision.

Whilst the powerful code completion of the aforementioned IDEs is useful for general development tasks, external text editors such as \emph{Atom} have been used as well, especially when large amount of code had to be refactored or restructured.
In particular, the project documentation has been authored using \emph{Atom} and several plugins for \LaTeX\ integration.
